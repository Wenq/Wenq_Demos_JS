<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>js串口通信 demo</title>
	<link rel="stylesheet" type="text/css" href="css/demo.css">
</head>

<body>
	<script type="text/javascript" src="js/serialPort.js">
	</script>
	<div class="div" id="bar">js串口通信</div>
	<div class="block1">
		<label>串口名称： </label>
		<input type="text" name="text01" id="input01">
		<button id="btnOpen">连接串口设备</button>
	</div>
	<div class="block1">
		<input type="text" name="text02" id="input02">
		<button id="btnRead">读取串口数据</button>
	</div>
	<div class="block1">
		<input type="text" name="text03" id="input03">
		<button id="btnWrite">写入串口数据</button>
	</div>
	<div class="block1">
		<button id="btnclose">close连接</button>
	</div>
	<script type="text/javascript">
		if ("serial" in navigator) {
			// 浏览器支持串口通信
			alert('该浏览器支持串口通信api')

			var so = new SerialObject();
			var btnOpen = document.getElementById("btnOpen");
			if(btnOpen){
				btnOpen.addEventListener('click', function(e){
					var port = so.requestPort();
				});
			}
			var btnRead = document.getElementById("btnRead");
			if(btnRead){
				btnRead.addEventListener('click', function(e){
					//
				});
			}
			var btnWrite = document.getElementById("btnWrite");
			if(btnWrite){
				btnWrite.addEventListener('click', function(e){
					//
				});
			}
		} else {
			alert('该浏览器不支持 web serial api！')
		}
		// var input01 = window.document.getElementById('input01')
		// if (input01) {
		// 	//
		// } else {
		// 	console.error('input01 undefined!')
		// }
	</script>
</body>

</html>